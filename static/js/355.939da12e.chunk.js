"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[355],{852:function(n,e,t){function r(n,e,t,r,c,a,u){try{var o=n[a](u),s=o.value}catch(i){return void t(i)}o.done?e(s):Promise.resolve(s).then(r,c)}function c(n){return function(){var e=this,t=arguments;return new Promise((function(c,a){var u=n.apply(e,t);function o(n){r(u,c,a,o,s,"next",n)}function s(n){r(u,c,a,o,s,"throw",n)}o(void 0)}))}}t.d(e,{Mc:function(){return p},mv:function(){return x},eH:function(){return v},oJ:function(){return l},Tg:function(){return i},qR:function(){return b}});var a=t(757),u=t.n(a),o="https://api.themoviedb.org/3",s="5fb06eb336d69d5be41d461140de8238";function i(){return f.apply(this,arguments)}function f(){return(f=c(u().mark((function n(){var e,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/trending/movie/day?api_key=").concat(s));case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n){return h.apply(this,arguments)}function h(){return(h=c(u().mark((function n(e){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/movie/").concat(e,"?api_key=").concat(s));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return m.apply(this,arguments)}function m(){return(m=c(u().mark((function n(e){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(s));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return d.apply(this,arguments)}function d(){return(d=c(u().mark((function n(e){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(s));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n){return y.apply(this,arguments)}function y(){return(y=c(u().mark((function n(e){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(o,"/search/movie?api_key=").concat(s,"&query=").concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(n){return"https://www.themoviedb.org/t/p/w220_and_h330_face"+n}},355:function(n,e,t){t.r(e),t.d(e,{default:function(){return p}});var r=t(439),c=t(617),a=t(791),u=t(852),o=t(87),s={searchbar:"Searchbar_searchbar__0FWoU",searchBtn:"Searchbar_searchBtn__ljDiA",form:"Searchbar_form__D-hp5",inputSearch:"Searchbar_inputSearch__xAbPo"},i=t(184),f=function(n){var e=n.onSubmit;return(0,i.jsx)("div",{children:(0,i.jsxs)("form",{className:s.form,onSubmit:function(n){n.preventDefault();var t=n.currentTarget.elements.query.value;e(t)},children:[(0,i.jsx)("input",{className:s.inputSearch,type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,i.jsx)("button",{type:"submit",className:s.searchBtn,children:(0,i.jsx)("span",{className:s.btnLabel,children:"Search"})})]})})},p=function(){var n=(0,a.useState)([]),e=(0,r.Z)(n,2),t=e[0],s=e[1],p=(0,o.lr)(),h=(0,r.Z)(p,2),l=h[0],m=h[1],v=l.get("query");(0,a.useEffect)((function(){console.log("szukamy: ".concat(v));try{v&&(0,u.mv)(v).then((function(n){console.log(n),n.results&&s(n.results)}))}catch(n){console.error(n)}}),[v]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{onSubmit:function(n){m({query:n})}}),t&&(0,i.jsx)(c.Z,{movies:t})]})}},617:function(n,e,t){t.d(e,{Z:function(){return u}});t(791);var r=t(87),c=t(184),a=function(n){var e=n.movieData,t=e.title,a=e.id;return(0,c.jsx)("li",{children:(0,c.jsx)(r.rU,{to:"/movies/".concat(a),children:t})})},u=function(n){var e=n.movies;return(0,c.jsx)(c.Fragment,{children:e.length>0?(0,c.jsx)("ul",{children:e.map((function(n){return(0,c.jsx)(a,{movieData:n},n.id)}))}):(0,c.jsx)("p",{children:"No results found!"})})}}}]);
//# sourceMappingURL=355.939da12e.chunk.js.map